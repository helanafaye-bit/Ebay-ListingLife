<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ebay ListingLife</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Ebay ListingLife</h1>
            <div class="search-container">
                <input type="text" id="searchBar" placeholder="Search items... (e.g., 'Glass plate')">
                <button id="searchBtn">Search</button>
            </div>
        </header>

        <div class="main-layout">
            <main class="main-content">
                <div class="add-section">
                    <button id="addCategoryBtn" class="btn btn-primary">Add New Category</button>
                    <button id="addItemBtn" class="btn btn-secondary">Add New Item</button>
                </div>

                <div id="categoriesContainer">
                    <!-- Categories will be dynamically added here -->
                </div>

                <div id="categoryItemsContainer" style="display: none;">
                    <div class="category-items-header">
                        <button id="backToCategories" class="btn btn-secondary">‚Üê Back to Categories</button>
                        <h2 id="currentCategoryTitle"></h2>
                        <div id="categoryDurationInfo"></div>
                    </div>
                    <div id="categoryItemsList">
                        <!-- Items for selected category will be shown here -->
                    </div>
                </div>
            </main>

            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3>Items to be removed soon</h3>
                    <div id="urgentItemsList">
                        <!-- Items with 7 days or less will be shown here -->
                    </div>
                </div>
            </aside>
        </div>

        <!-- Modal for adding/editing categories -->
        <div id="categoryModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2 id="categoryModalTitle">Add New Category</h2>
                <form id="categoryForm">
                    <label for="categoryName">Title</label>
                    <input type="text" id="categoryName" placeholder="Category name (e.g., Fragile Items)" required>
                    <label for="categoryDuration">Listing Duration</label>
                    <input type="number" id="categoryDuration" placeholder="Default duration in days" min="1" required>
                    <button type="submit" class="btn btn-primary">Save Category</button>
                </form>
            </div>
        </div>

        <!-- Modal for adding/editing items -->
        <div id="itemModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2 id="itemModalTitle">Add New Item</h2>
                <form id="itemForm">
                    <select id="itemCategory" required>
                        <option value="">Select Category</option>
                    </select>
                    <input type="text" id="itemName" placeholder="Item name (e.g., Big Glass thing)" required>
                    <input type="date" id="itemRemovalDate" required>
                    <button type="submit" class="btn btn-primary">Save Item</button>
                </form>
            </div>
        <!-- Modal for item details (notes/pictures) -->
        <div id="itemDetailModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2 id="itemDetailModalTitle">Item Details</h2>
                <form id="itemDetailForm">
                    <label for="itemDetailName">Item Name</label>
                    <input type="text" id="itemDetailName" readonly>
                    
                    <label for="itemDetailCategory">Category</label>
                    <input type="text" id="itemDetailCategory" readonly>
                    
                    <label for="itemDetailRemovalDate">Removal Date</label>
                    <input type="text" id="itemDetailRemovalDate" readonly>
                    
                    <label for="itemDetailNotes">Notes</label>
                    <textarea id="itemDetailNotes" placeholder="Add notes about this item..." rows="4"></textarea>
                    
                    <label for="itemDetailPicture">Picture URL</label>
                    <input type="url" id="itemDetailPicture" placeholder="https://example.com/image.jpg">
                    
                    <div id="itemPicturePreview" class="picture-preview" style="display: none;">
                        <img id="previewImage" src="" alt="Item preview">
                    </div>
                    
                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary" onclick="app.closeItemDetailModal()">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>